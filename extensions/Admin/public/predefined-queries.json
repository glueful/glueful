[
  {
    "name": "All Active Users",
    "description": "Retrieves all active users from the system",
    "query": "SELECT id, uuid, username, email, status, last_login_date FROM users WHERE status = 'active' ORDER BY last_login_date DESC",
    "allow_write": false
  },
  {
    "name": "Recent Logins",
    "description": "Shows login activity from the past 7 days",
    "query": "SELECT u.username, a.created_at, a.ip_address, a.status FROM auth_sessions a JOIN users u ON a.user_uuid = u.uuid WHERE a.created_at > DATE_SUB(NOW(), INTERVAL 7 DAY) ORDER BY a.created_at DESC LIMIT 50",
    "allow_write": false
  },
  {
    "name": "Session Activity Summary",
    "description": "Summary of recent user session activities",
    "query": "SELECT DATE(created_at) as activity_date, COUNT(*) as session_count, COUNT(DISTINCT user_uuid) as unique_users FROM auth_sessions WHERE created_at > DATE_SUB(NOW(), INTERVAL 30 DAY) GROUP BY DATE(created_at) ORDER BY activity_date DESC LIMIT 20",
    "allow_write": false
  },
  {
    "name": "Active User Sessions",
    "description": "Currently active user sessions",
    "query": "SELECT u.username, u.email, a.ip_address, a.user_agent, a.access_expires_at, a.created_at, a.provider FROM users u JOIN auth_sessions a ON u.uuid = a.user_uuid WHERE a.access_expires_at > NOW() AND a.status = 'active' AND u.status = 'active' ORDER BY a.created_at DESC LIMIT 50",
    "allow_write": false
  },
  {
    "name": "User Login Statistics",
    "description": "User login statistics and session patterns",
    "query": "SELECT u.username, u.email, u.last_login_date, COUNT(a.id) as total_sessions, MAX(a.created_at) as latest_session, COUNT(CASE WHEN a.status = 'active' THEN 1 END) as active_sessions FROM users u LEFT JOIN auth_sessions a ON u.uuid = a.user_uuid WHERE u.status = 'active' GROUP BY u.uuid, u.username, u.email, u.last_login_date ORDER BY latest_session DESC LIMIT 30",
    "allow_write": false
  },
  {
    "name": "Recent Authentication Activity",
    "description": "Recent user authentication and session activities",
    "query": "SELECT u.username, u.email, a.ip_address, a.user_agent, a.provider, a.status, a.created_at as login_time FROM auth_sessions a JOIN users u ON a.user_uuid = u.uuid WHERE a.created_at > DATE_SUB(NOW(), INTERVAL 7 DAY) ORDER BY a.created_at DESC LIMIT 50",
    "allow_write": false
  },
  {
    "name": "Database Table Stats",
    "description": "Shows row count and size for all tables",
    "query": "SELECT table_name, table_rows, data_length, index_length, ROUND((data_length + index_length) / 1024 / 1024, 2) AS size_mb FROM information_schema.tables WHERE table_schema = DATABASE() ORDER BY size_mb DESC",
    "allow_write": false
  },
  {
    "name": "List Indexes",
    "description": "Shows all indexes for a specific table",
    "query": "SELECT index_name, column_name, seq_in_index, non_unique FROM information_schema.statistics WHERE table_schema = DATABASE() AND table_name = 'users' ORDER BY index_name, seq_in_index",
    "allow_write": false
  },
  {
    "name": "User Profile Overview",
    "description": "User profiles with basic information and status",
    "query": "SELECT u.username, u.email, u.status, p.first_name, p.last_name, p.photo_url, u.created_at, u.last_login_date FROM users u LEFT JOIN profiles p ON u.uuid = p.user_uuid WHERE u.status IN ('active', 'inactive') ORDER BY u.created_at DESC LIMIT 50",
    "allow_write": false
  },
  {
    "name": "File Storage Overview",
    "description": "Overview of uploaded files and storage usage",
    "query": "SELECT b.name as filename, b.mime_type, b.size, u.username as uploaded_by, b.status, b.created_at FROM blobs b LEFT JOIN users u ON b.created_by = u.uuid ORDER BY b.created_at DESC LIMIT 50",
    "allow_write": false
  },
  {
    "name": "System Health Overview",
    "description": "Overview of system tables and their current status",
    "query": "SELECT table_name, table_rows, ROUND((data_length + index_length) / 1024 / 1024, 2) AS size_mb, create_time, update_time FROM information_schema.tables WHERE table_schema = DATABASE() AND table_rows > 0 ORDER BY table_rows DESC LIMIT 20",
    "allow_write": false
  }
]
