import{K as G,at as M,q as T,a3 as X,a4 as Z,a5 as S,f as D,a6 as E,a7 as J,i as c,o,j as u,z as n,k as N,l,X as d,m as i,G as V,H as j,p as A,V as Q,C as U,N as g,O as h,B as k,Z as W,ah as Y}from"./index-CRsdYi2H.js";import{c as ee,d as te,_ as se,a as ae,e as z,f as _,g as le,b as oe}from"./DialogPortal-CiOOOcvu.js";const ne={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default overflow-hidden"}}}},ce={__name:"Modal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(a,{emit:F}){const e=a,m=F,s=G(),{t:H}=M(),b=J(),I=T(X(e,"open","defaultOpen","modal"),m),K=Z(S(()=>e.portal)),L=S(()=>e.content),R=D(()=>{const t={closeAutoFocus:f=>f.preventDefault()};return e.dismissible?t:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((v,p)=>(v[p]=y=>{y.preventDefault(),m("close:prevent")},v),t)}),r=D(()=>{var t;return E({extend:E(ne),...((t=b.ui)==null?void 0:t.modal)||{}})({transition:e.transition,fullscreen:e.fullscreen})});return(t,f)=>(o(),c(l(oe),V(j(l(I))),{default:u(({open:v,close:p})=>[s.default?(o(),c(l(ee),{key:0,"as-child":"",class:d(e.class)},{default:u(()=>[i(t.$slots,"default",{open:v})]),_:2},1032,["class"])):n("",!0),N(l(te),V(j(l(K))),{default:u(()=>{var y,q;return[a.overlay?(o(),c(l(se),{key:0,class:d(r.value.overlay({class:(y=e.ui)==null?void 0:y.overlay}))},null,8,["class"])):n("",!0),N(l(ae),A({class:r.value.content({class:[!s.default&&e.class,(q=e.ui)==null?void 0:q.content]})},L.value,{onAfterEnter:f[0]||(f[0]=$=>m("after:enter")),onAfterLeave:f[1]||(f[1]=$=>m("after:leave"))},Q(R.value)),{default:u(()=>[s.content&&(a.title||s.title||a.description||s.description)?(o(),c(l(U),{key:0},{default:u(()=>[a.title||s.title?(o(),c(l(z),{key:0},{default:u(()=>[i(t.$slots,"title",{},()=>[g(h(a.title),1)])]),_:3})):n("",!0),a.description||s.description?(o(),c(l(_),{key:1},{default:u(()=>[i(t.$slots,"description",{},()=>[g(h(a.description),1)])]),_:3})):n("",!0)]),_:3})):n("",!0),i(t.$slots,"content",{close:p},()=>{var $,B,w;return[s.header||a.title||s.title||a.description||s.description||e.close||s.close?(o(),k("div",{key:0,class:d(r.value.header({class:($=e.ui)==null?void 0:$.header}))},[i(t.$slots,"header",{close:p},()=>{var x,P,C;return[W("div",{class:d(r.value.wrapper({class:(x=e.ui)==null?void 0:x.wrapper}))},[a.title||s.title?(o(),c(l(z),{key:0,class:d(r.value.title({class:(P=e.ui)==null?void 0:P.title}))},{default:u(()=>[i(t.$slots,"title",{},()=>[g(h(a.title),1)])]),_:3},8,["class"])):n("",!0),a.description||s.description?(o(),c(l(_),{key:1,class:d(r.value.description({class:(C=e.ui)==null?void 0:C.description}))},{default:u(()=>[i(t.$slots,"description",{},()=>[g(h(a.description),1)])]),_:3},8,["class"])):n("",!0)],2),i(t.$slots,"actions"),e.close||s.close?(o(),c(l(le),{key:0,"as-child":""},{default:u(()=>[i(t.$slots,"close",{close:p,ui:r.value},()=>{var O;return[e.close?(o(),c(Y,A({key:0,icon:a.closeIcon||l(b).ui.icons.close,color:"neutral",variant:"ghost","aria-label":l(H)("modal.close")},typeof e.close=="object"?e.close:{},{class:r.value.close({class:(O=e.ui)==null?void 0:O.close})}),null,16,["icon","aria-label","class"])):n("",!0)]})]),_:2},1024)):n("",!0)]})],2)):n("",!0),s.body?(o(),k("div",{key:1,class:d(r.value.body({class:(B=e.ui)==null?void 0:B.body}))},[i(t.$slots,"body",{close:p})],2)):n("",!0),s.footer?(o(),k("div",{key:2,class:d(r.value.footer({class:(w=e.ui)==null?void 0:w.footer}))},[i(t.$slots,"footer",{close:p})],2)):n("",!0)]})]),_:2},1040,["class"])]}),_:2},1040)]),_:3},16))}};export{ce as _};
