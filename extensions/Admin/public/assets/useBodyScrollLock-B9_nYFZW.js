import{g,bF as U,r as w,d as N,a as R,ax as W,w as L,x as B,bG as E,a2 as M,bH as O,bI as Y,bJ as j,bK as C,bL as k,i as H,o as $,j as G,m as X,l as V,P as q,bM as J,E as P,a1 as z,D as Q,bj as Z,f as K,bN as ee,bt as te,ac as ne,bO as T,M as re}from"./index-CRsdYi2H.js";const Ee="menu.itemSelect",_=["Enter"," "],oe=["ArrowDown","PageUp","Home"],se=["ArrowUp","PageDown","End"],be=[...oe,...se],ge={ltr:[..._,"ArrowRight"],rtl:[..._,"ArrowLeft"]},we={ltr:["ArrowLeft"],rtl:["ArrowRight"]};function Se(e){return e?"open":"closed"}function ae(e){return e==="indeterminate"}function Ae(e){return ae(e)?"indeterminate":e?"checked":"unchecked"}function Oe(e){const t=g();for(const n of e)if(n===t||(n.focus(),g()!==t))return}function ue(e,t){const{x:n,y:o}=e;let u=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const v=t[l].x,i=t[l].y,y=t[c].x,s=t[c].y;i>o!=s>o&&n<(y-v)*(o-i)/(s-i)+v&&(u=!u)}return u}function Ce(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ue(n,t)}function Fe(e){return e.pointerType==="mouse"}const ie=U(()=>w([]));function ce(){const e=ie();return{add(t){const n=e.value[0];t!==n&&(n==null||n.pause()),e.value=x(e.value,t),e.value.unshift(t)},remove(t){var n;e.value=x(e.value,t),(n=e.value[0])==null||n.resume()}}}function x(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function le(e){return e.filter(t=>t.tagName!=="A")}const Le=N({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,o=t,{currentRef:u,currentElement:l}=R(),c=w(null),v=ce(),i=W({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});L(s=>{if(!B)return;const r=l.value;if(!n.trapped)return;function a(p){if(i.paused||!r)return;const h=p.target;r.contains(h)?c.value=h:E(c.value,{select:!0})}function m(p){if(i.paused||!r)return;const h=p.relatedTarget;h!==null&&(r.contains(h)||E(c.value,{select:!0}))}function f(p){r.contains(c.value)||E(r)}document.addEventListener("focusin",a),document.addEventListener("focusout",m);const d=new MutationObserver(f);r&&d.observe(r,{childList:!0,subtree:!0}),s(()=>{document.removeEventListener("focusin",a),document.removeEventListener("focusout",m),d.disconnect()})}),L(async s=>{const r=l.value;if(await M(),!r)return;v.add(i);const a=g();if(!r.contains(a)){const f=new CustomEvent(O,k);r.addEventListener(O,d=>o("mountAutoFocus",d)),r.dispatchEvent(f),f.defaultPrevented||(Y(le(j(r)),{select:!0}),g()===a&&E(r))}s(()=>{r.removeEventListener(O,p=>o("mountAutoFocus",p));const f=new CustomEvent(C,k),d=p=>{o("unmountAutoFocus",p)};r.addEventListener(C,d),r.dispatchEvent(f),setTimeout(()=>{f.defaultPrevented||E(a??document.body,{select:!0}),r.removeEventListener(C,d),v.remove(i)},0)})});function y(s){if(!n.loop&&!n.trapped||i.paused)return;const r=s.key==="Tab"&&!s.altKey&&!s.ctrlKey&&!s.metaKey,a=g();if(r&&a){const m=s.currentTarget,[f,d]=J(m);f&&d?!s.shiftKey&&a===d?(s.preventDefault(),n.loop&&E(f,{select:!0})):s.shiftKey&&a===f&&(s.preventDefault(),n.loop&&E(d,{select:!0})):a===m&&s.preventDefault()}}return(s,r)=>($(),H(V(q),{ref_key:"currentRef",ref:u,tabindex:"-1","as-child":s.asChild,as:s.as,onKeydown:y},{default:G(()=>[X(s.$slots,"default")]),_:3},8,["as-child","as"]))}});var fe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},b=new WeakMap,S=new WeakMap,A={},F=0,D=function(e){return e&&(e.host||D(e.parentNode))},de=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=D(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ve=function(e,t,n,o){var u=de(t,Array.isArray(e)?e:[e]);A[n]||(A[n]=new WeakMap);var l=A[n],c=[],v=new Set,i=new Set(u),y=function(r){!r||v.has(r)||(v.add(r),y(r.parentNode))};u.forEach(y);var s=function(r){!r||i.has(r)||Array.prototype.forEach.call(r.children,function(a){if(v.has(a))s(a);else try{var m=a.getAttribute(o),f=m!==null&&m!=="false",d=(b.get(a)||0)+1,p=(l.get(a)||0)+1;b.set(a,d),l.set(a,p),c.push(a),d===1&&f&&S.set(a,!0),p===1&&a.setAttribute(n,"true"),f||a.setAttribute(o,"true")}catch(h){console.error("aria-hidden: cannot operate on ",a,h)}})};return s(t),v.clear(),F++,function(){c.forEach(function(r){var a=b.get(r)-1,m=l.get(r)-1;b.set(r,a),l.set(r,m),a||(S.has(r)||r.removeAttribute(o),S.delete(r)),m||r.removeAttribute(n)}),F--,F||(b=new WeakMap,b=new WeakMap,S=new WeakMap,A={})}},me=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),u=fe(e);return u?(o.push.apply(o,Array.from(u.querySelectorAll("[aria-live], script"))),ve(o,u,n,"aria-hidden")):function(){return null}};function ke(e){let t;P(()=>Q(e),n=>{n?t=me(n):t&&t()}),z(()=>{t&&t()})}const pe=Z(()=>{const e=w(new Map),t=w(),n=K(()=>{for(const c of e.value.values())if(c)return!0;return!1}),o=te({scrollBody:w(!0)});let u=null;const l=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",T&&(u==null||u()),t.value=void 0};return P(n,(c,v)=>{var r;if(!B)return;if(!c){v&&l();return}t.value===void 0&&(t.value=document.body.style.overflow);const i=window.innerWidth-document.documentElement.clientWidth,y={padding:i,margin:0},s=(r=o.scrollBody)!=null&&r.value?typeof o.scrollBody.value=="object"?ne({padding:o.scrollBody.value.padding===!0?i:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?i:o.scrollBody.value.margin},y):y:{padding:0,margin:0};i>0&&(document.body.style.paddingRight=typeof s.padding=="number"?`${s.padding}px`:String(s.padding),document.body.style.marginRight=typeof s.margin=="number"?`${s.margin}px`:String(s.margin),document.documentElement.style.setProperty("--scrollbar-width",`${i}px`),document.body.style.overflow="hidden"),T&&(u=re(document,"touchmove",a=>ye(a),{passive:!1})),M(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Te(e){const t=Math.random().toString(36).substring(2,7),n=pe();n.value.set(t,e??!1);const o=K({get:()=>n.value.get(t)??!1,set:u=>n.value.set(t,u)});return ee(()=>{n.value.delete(t)}),o}function I(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:I(n)}}function ye(e){const t=e||window.event,n=t.target;return n instanceof Element&&I(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}export{be as F,Ee as I,se as L,_ as S,Le as _,ke as a,Fe as b,Ae as c,ae as d,we as e,Oe as f,Se as g,ge as h,Ce as i,Te as u};
