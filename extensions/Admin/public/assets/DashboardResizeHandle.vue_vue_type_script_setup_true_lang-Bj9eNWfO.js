import{r as z,f as b,a_ as M,l as E,aG as D,a$ as k,E as B,W as T,d as H,i as $,o as j,P as G,X as U,j as V,m as q}from"./index-CvplhhIg.js";import{t as x}from"./DashboardSidebarToggle.vue_vue_type_script_setup_true_lang-yvinZowi.js";const K=(S,f={},{collapsed:u=z(!1)}={})=>{const s=z(null),e=b(()=>({minSize:0,maxSize:100,defaultSize:0,storage:"cookie",persistent:!0,collapsible:!1,collapsedSize:0,resizable:!0,...M(f)?f.value:f})),w={size:e.value.defaultSize,collapsed:E(u)??!1},v=e.value.persistent&&(e.value.resizable||e.value.collapsible)?e.value.storage==="cookie"?D(S,{}):k(S,w):z(w),l=b({get:()=>v.value.collapsed,set:a=>{if(!e.value.collapsible){M(u)&&(u.value=a);return}v.value.collapsed=a}}),g=z(e.value.defaultSize),d=b({get:()=>v.value.size,set:a=>{v.value.size=a}}),L=b(()=>l.value?e.value.collapsedSize:d.value),m=z(!1),R=(a,t,r)=>{var h;if(!s.value||!e.value.resizable)return;const c=((h=s.value.parentElement)==null?void 0:h.offsetWidth)||1,n=a.clientX-t,i=(r+n)/c*100;if(e.value.collapsible&&i<e.value.collapsedSize+4){p(!0);return}else l.value&&p(!1);d.value=Math.min(e.value.maxSize,Math.max(e.value.minSize,i))},_=a=>{if(!s.value||!e.value.resizable)return;a.preventDefault(),a.stopPropagation();const t=s.value.getBoundingClientRect().width;if(!t)return;const r=a.clientX,c=t;m.value=!0;const n=i=>{R(i,r,c)},o=()=>{m.value=!1,document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",o)},P=(a,t,r)=>{var h;if(!s.value||!e.value.resizable||!a.touches[0])return;const c=((h=s.value.parentElement)==null?void 0:h.offsetWidth)||1,n=a.touches[0].clientX-t,i=(r+n)/c*100;if(e.value.collapsible&&i<e.value.collapsedSize+4){p(!0);return}else l.value&&p(!1);d.value=Math.min(e.value.maxSize,Math.max(e.value.minSize,i))},W=a=>{if(!s.value||!e.value.resizable||!a.touches[0])return;a.preventDefault(),a.stopPropagation();const t=s.value.getBoundingClientRect().width;if(!t)return;const r=a.touches[0].clientX,c=t;m.value=!0;const n=i=>{P(i,r,c)},o=()=>{m.value=!1,document.removeEventListener("touchmove",n),document.removeEventListener("touchend",o),document.removeEventListener("touchcancel",o)};document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",o),document.addEventListener("touchcancel",o)},p=a=>{if(!e.value.collapsible)return;const t=a??!l.value;t&&!l.value?g.value=d.value:!t&&l.value&&(d.value=g.value),l.value=t},X=a=>{l.value?g.value=Math.min(e.value.maxSize,Math.max(e.value.minSize,a)):d.value=Math.min(e.value.maxSize,Math.max(e.value.minSize,a))};return M(u)&&B(u,a=>{e.value.collapsible&&v.value.collapsed!==a&&(v.value.collapsed=a)}),{el:s,size:L,isDragging:m,isCollapsed:l,onMouseDown:_,onTouchStart:W,setSize:X,collapse:p}},y={base:"hidden lg:block touch-none select-none cursor-ew-resize relative before:absolute before:inset-y-0 before:-left-1.5 before:-right-1.5"},A=T;var C;const F=x({extend:x(y),...((C=A.uiPro)==null?void 0:C.dashboardResizeHandle)||{}}),N=H({__name:"DashboardResizeHandle",props:{as:{},class:{}},setup(S){const f=S;return(u,s)=>(j(),$(E(G),{ref:"handleRef",as:u.as,role:"separator",class:U(E(F)({class:f.class}))},{default:V(()=>[q(u.$slots,"default")]),_:3},8,["as","class"]))}});export{N as _,K as u};
